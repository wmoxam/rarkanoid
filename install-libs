#!/usr/bin/env jruby

require 'net/http'
require 'uri'

def download(url, filename)
  uri = URI.parse(url)
  Net::HTTP.start(uri.host) do |http|
    resp = http.get(uri.path)
    open(filename, "wb") do |file|
        file.write(resp.body)
    end
  end
end

Dir.mkdir 'tmp'
Dir.chdir 'tmp'
download 'http://slick.cokeandcode.com/downloads/slick.zip', 'slick.zip'
`unzip slick.zip`
`mv lib ..`
Dir.chdir '..'
`jar -xf lib/natives-#{`uname`.match(/Darwin/i) ? 'mac' : 'linux'}.jar`
`rm -r tmp`

puts "Installed!"
